{
    "patches": [
        {
            "label": "2025-12-02_22-41-50",
            "content": "@@ -1,1699 +0,0 @@\n-class Fone:%0A    def __init__(self, label, number):%0A        self.label = label%0A        self.number = number%0A%0A    def __str__(self):%0A        return f%22%7Bself.label%7D:%7Bself.number%7D%22%0A%0Adef is_valid(number):%0A    valid = %220123456789().%22%0A    for c in number:%0A        if c not in valid:%0A            return False%0A    return True%0A%0A%0Aclass Contact:%0A    def __init__(self, name):%0A        self.name = name%0A        self.fones = %5B%5D%0A        self.favorited = False %0A%0A    def addFone(self, label, number):%0A        if not is_valid(number):%0A            print(%22fail: invalid number%22)%0A            return%0A        self.fones.append(Fone(label, number))%0A%0A    def rmFone(self, index):%0A        if 0 %3C= index %3C len(self.fones):%0A            self.fones.pop(index)%0A%0A    def toggleFavorited(self):%0A        self.favorited = not self.favorited%0A%0A    def isFavorited(self):%0A        return self.favorited%0A%0A    def __str__(self):%0A        prefix = %22@%22 if self.favorited else %22-%22%0A        lista = %22, %22.join(str(f) for f in self.fones)%0A        return f%22%7Bprefix%7D %7Bself.name%7D %5B%7Blista%7D%5D%22%0A%0A%0Aclass Agenda:%0A    def __init__(self):%0A        self.contacts = %5B%5D%0A%0A    def findPosByName(self, name):%0A        for i, c in enumerate(self.contacts):%0A            if c.name == name:%0A                return %0A        return -1%0A%0A    def addContact(self, name, fones):%0A        pos = self.findPosByName(name)%0A        if pos == -1:%0A            contact = Contact(name)%0A            for f in fones:%0A                contact.addFone(f%5B0%5D, f%5B1%5D)%0A            self.contacts.append(contact)%0A        else:%0A            contact = self.contacts%5Bpos%5D%0A            for f in fones:%0A                contact.addFone(f%5B0%5D, f%5B1%5D)%0A        self.contacts.sort(key=lambda c: c.name)%0A%0A    def get\n",
            "lines": "0"
        },
        {
            "label": "2025-12-03_09-46-14",
            "content": "@@ -1696,2020 +1696,4 @@\n  get\n-Contact(self, name):%0A        pos = self.findPosByName(name)%0A        if pos != -1:%0A            return self.contact%5Bpos%5D%0A        return %0A%0A    def rmContact(self, name):%0A        pos = self.findPosByName(name)%0A        if pos != -1:%0A            self.contacts.pop(pos)%0A%0A    def search(self, pattern):%0A        resultados = %5B%5D%0A        for cont in self.contacts:%0A            texto = str(cont)%0A            if pattern in texto:%0A                resultados.append(cont)%0A        return resultados%0A%0A    def getFavorited(self):%0A        favs = %5B%5D%0A        for cont in self.contacts:%0A            if cont.isFavorited():%0A                favs.append(cont)%0A        return favs%0A%0A    def getContacts(self):%0A        return self.contacts%0A%0A    def __str__(self):%0A        return %22%5Cn%22.join(str(c) for c in self.contacts)%0A%0A%0Adef main():%0A    agenda = Agenda()%0A%0A    while True:%0A        line = input().strip()%0A        if line == %22%22:%0A            continue%0A        print(%22$%22 + line)%0A    args = line.split()%0A%0A    if args%5B0%5D == %22end%22:%0A        break%0A%0A    elif args%5B0%5D == %22add%22:%0A        name = args%5B1%5D%0A        fones_list = %5B%5D%0A        for par in args%5B2:%5D:%0A            id, num = par.split(%22:%22)%0A            fones_list.append(Fone(id, num))%0A        agenda.addContact(name, fones_list)%0A%0A    elif args%5B0%5D == %22show%22:%0A        print(agenda)%0A%0A    elif args%5B0%5D == %22rm%22:%0A        name = args%5Bi%5D%0A        agenda.rmContact(name)%0A%0A    elif args%5B0%5D == %22rmFone%22:%0A        name = args%5B1%5D%0A        index = int(args%5B2%5D)%0A        cont = agenda.getContact(name)%0A        if cont is not None:%0A            cont.rmFone(index)%0A%0A    elif args%5B0%5D == %22search%22:%0A        pattern = args%5B1%5D%0A        resultados = agenda.search(pattern)%0A        for c in resultados:%0A            print(c)%0A%0A    elif args%5B0%5D == %22tfav%22:%0A        name = args%5B1%5D%0A        cont = agenda.getContact(name)%0A        if cont:%0A            cont.toogleFavorited()%0A%0A    elif args%5B0%5D == %22favs%22:%0A        favs = agenda.getFavorited()%0A        for c in favs:%0A            print(c)%0A%0A    else:%0A        print(%22fail: comando invalido%22)%0A%0Amain() \n",
            "lines": "68"
        },
        {
            "label": "2025-12-03_14-08-38",
            "content": "@@ -1234,17 +1234,16 @@\n  return \n-i\n %0A       \n",
            "lines": "156"
        },
        {
            "label": "2025-12-03_14-09-08",
            "content": "@@ -1798,39 +1798,38 @@\n urn self.contact\n-s\n %5Bpos%5D%0A\n+\n         return %0A\n@@ -2638,20 +2638,16 @@\n + line)%0A\n-    \n     args\n@@ -2662,16 +2662,16 @@\n split()%0A\n+\n %0A    if \n@@ -2874,29 +2874,26 @@\n append(Fone(\n-label\n+id\n , num))%0A    \n@@ -3022,33 +3022,33 @@\n     name = args%5B\n-1\n+i\n %5D%0A        agenda\n@@ -3524,17 +3524,17 @@\n  cont.to\n-g\n+o\n gleFavor\n",
            "lines": "156"
        },
        {
            "label": "2025-12-03_14-13-04",
            "content": "@@ -2664,28 +2664,24 @@\n ne.split()%0A%0A\n-    \n     if args%5B\n@@ -2701,20 +2701,16 @@\n         \n-    \n break%0A%0A \n@@ -2708,28 +2708,24 @@\n  break%0A%0A    \n- \n-   \n elif args%5B0%5D\n@@ -2735,36 +2735,32 @@\n  %22add%22:%0A        \n-    \n name = args%5B1%5D%0A \n@@ -2758,36 +2758,32 @@\n args%5B1%5D%0A        \n-  \n-  \n fones_list = %5B%5D%0A\n@@ -2778,28 +2778,24 @@\n s_list = %5B%5D%0A\n-    \n         for \n@@ -2823,20 +2823,16 @@\n         \n-   \n- \n id, num \n@@ -2848,20 +2848,16 @@\n it(%22:%22)%0A\n-    \n         \n@@ -2896,20 +2896,16 @@\n , num))%0A\n-    \n         \n@@ -2941,20 +2941,16 @@\n _list)%0A%0A\n-    \n     elif\n@@ -2973,28 +2973,24 @@\n w%22:%0A        \n-    \n print(agenda\n@@ -2992,28 +2992,24 @@\n genda)%0A%0A    \n- \n-   \n elif args%5B0%5D\n@@ -3018,36 +3018,32 @@\n = %22rm%22:%0A        \n-    \n name = args%5B1%5D%0A \n@@ -3045,28 +3045,24 @@\n %5B1%5D%0A        \n-  \n-  \n agenda.rmCon\n@@ -3073,28 +3073,24 @@\n (name)%0A%0A    \n-   \n- \n elif args%5B0%5D\n@@ -3103,36 +3103,32 @@\n mFone%22:%0A        \n-   \n- \n name = args%5B1%5D%0A \n@@ -3118,36 +3118,32 @@\n  name = args%5B1%5D%0A\n-    \n         index = \n@@ -3155,20 +3155,16 @@\n rgs%5B2%5D)%0A\n-    \n         \n@@ -3198,28 +3198,24 @@\n me)%0A        \n-    \n if cont is n\n@@ -3231,28 +3231,24 @@\n             \n-    \n cont.rmFone(\n@@ -3255,28 +3255,24 @@\n index)%0A%0A    \n- \n-   \n elif args%5B0%5D\n@@ -3293,20 +3293,16 @@\n         \n-    \n pattern \n@@ -3311,36 +3311,32 @@\n args%5B1%5D%0A        \n-  \n-  \n resultados = age\n@@ -3355,36 +3355,32 @@\n attern)%0A        \n-    \n for c in resulta\n@@ -3388,36 +3388,32 @@\n os:%0A            \n-   \n- \n print(c)%0A%0A      \n@@ -3402,28 +3402,24 @@\n   print(c)%0A%0A\n-    \n     elif arg\n@@ -3434,20 +3434,16 @@\n %22tfav%22:%0A\n-    \n         \n@@ -3461,28 +3461,24 @@\n %5B1%5D%0A        \n-    \n cont = agend\n@@ -3500,28 +3500,24 @@\n me)%0A        \n-    \n if cont:%0A   \n@@ -3521,28 +3521,24 @@\n             \n- \n-   \n cont.toggleF\n@@ -3553,20 +3553,16 @@\n ()%0A%0A    \n-  \n-  \n elif arg\n@@ -3581,28 +3581,24 @@\n s%22:%0A        \n-  \n-  \n favs = agend\n@@ -3618,28 +3618,24 @@\n d()%0A        \n-    \n for c in fav\n@@ -3641,36 +3641,32 @@\n vs:%0A            \n-   \n- \n print(c)%0A%0A      \n@@ -3659,20 +3659,16 @@\n int(c)%0A%0A\n-    \n     else\n@@ -3661,36 +3661,32 @@\n t(c)%0A%0A    else:%0A\n-    \n         print(%22f\n",
            "lines": "156"
        },
        {
            "label": "2025-12-03_14-14-51",
            "content": "@@ -2851,21 +2851,18 @@\n         \n-label\n+id\n , num = \n",
            "lines": "156"
        },
        {
            "label": "2025-12-03_14-16-59",
            "content": "@@ -2913,16 +2913,20 @@\n .append(\n+Fone\n (label, \n",
            "lines": "156"
        },
        {
            "label": "2025-12-03_14-20-05",
            "content": "class Fone:\n    def __init__(self, label, number):\n        self.label = label\n        self.number = number\n\n    def __str__(self):\n        return f\"{self.label}:{self.number}\"\n\ndef is_valid(number):\n    valid = \"0123456789().\"\n    for c in number:\n        if c not in valid:\n            return False\n    return True\n\n\nclass Contact:\n    def __init__(self, name):\n        self.name = name\n        self.fones = []\n        self.favorited = False \n\n    def addFone(self, label, number):\n        if not is_valid(number):\n            print(\"fail: invalid number\")\n            return\n        self.fones.append(Fone(label, number))\n\n    def rmFone(self, index):\n        if 0 <= index < len(self.fones):\n            self.fones.pop(index)\n\n    def toggleFavorited(self):\n        self.favorited = not self.favorited\n\n    def isFavorited(self):\n        return self.favorited\n\n    def __str__(self):\n        prefix = \"@\" if self.favorited else \"-\"\n        lista = \", \".join(str(f) for f in self.fones)\n        return f\"{prefix} {self.name} [{lista}]\"\n\n\nclass Agenda:\n    def __init__(self):\n        self.contacts = []\n\n    def findPosByName(self, name):\n        for i, c in enumerate(self.contacts):\n            if c.name == name:\n                return i\n        return -1\n\n    def addContact(self, name, fones):\n        pos = self.findPosByName(name)\n        if pos == -1:\n            contact = Contact(name)\n            for f in fones:\n                contact.addFone(f[0], f[1])\n            self.contacts.append(contact)\n        else:\n            contact = self.contacts[pos]\n            for f in fones:\n                contact.addFone(f[0], f[1])\n        self.contacts.sort(key=lambda c: c.name)\n\n    def getContact(self, name):\n        pos = self.findPosByName(name)\n        if pos != -1:\n            return self.contacts[pos]\n        return \n\n    def rmContact(self, name):\n        pos = self.findPosByName(name)\n        if pos != -1:\n            self.contacts.pop(pos)\n\n    def search(self, pattern):\n        resultados = []\n        for cont in self.contacts:\n            texto = str(cont)\n            if pattern in texto:\n                resultados.append(cont)\n        return resultados\n\n    def getFavorited(self):\n        favs = []\n        for cont in self.contacts:\n            if cont.isFavorited():\n                favs.append(cont)\n        return favs\n\n    def getContacts(self):\n        return self.contacts\n\n    def __str__(self):\n        return \"\\n\".join(str(c) for c in self.contacts)\n\n\ndef main():\n    agenda = Agenda()\n\n    while True:\n        line = input().strip()\n        if line == \"\":\n            continue\n        print(\"$\" + line)\n        args = line.split()\n\n        if args[0] == \"end\":\n            break\n\n        elif args[0] == \"add\":\n            name = args[1]\n            fones_list = []\n            for par in args[2:]:\n                label, num = par.split(\":\")\n                fones_list.append((label, num))\n            agenda.addContact(name, fones_list)\n\n        elif args[0] == \"show\":\n            print(agenda)\n\n        elif args[0] == \"rm\":\n            name = args[1]\n            agenda.rmContact(name)\n\n        elif args[0] == \"rmFone\":\n            name = args[1]\n            index = int(args[2])\n            cont = agenda.getContact(name)\n            if cont is not None:\n                cont.rmFone(index)\n\n        elif args[0] == \"search\":\n            pattern = args[1]\n            resultados = agenda.search(pattern)\n            for c in resultados:\n                print(c)\n\n        elif args[0] == \"tfav\":\n            name = args[1]\n            cont = agenda.getContact(name)\n            if cont:\n                cont.toggleFavorited()\n\n        elif args[0] == \"favs\":\n            favs = agenda.getFavorited()\n            for c in favs:\n                print(c)\n\n        else:\n            print(\"fail: comando invalido\")\n\nmain() ",
            "lines": "156"
        }
    ]
}